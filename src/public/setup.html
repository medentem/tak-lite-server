<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>TAK Lite Setup</title>
    <link rel="stylesheet" href="/public/css/setup.css" />
  </head>
  <body>
    <div class="container">
      <h1>TAK Lite Server Setup</h1>
      
      <div class="setup-info">
        <strong>Welcome!</strong> This wizard will help you configure your TAK Lite server for the first time.
        <br>You'll be able to access the admin panel once setup is complete.
      </div>
      
      <div class="card">
        <div id="setupKeyGroup" class="field-group hidden">
          <label for="setupKey">Setup Key</label>
          <input id="setupKey" type="password" placeholder="Enter the setup key from your deployment" autocomplete="one-time-code" />
          <div class="help-text">
            <strong>Required by this deployment.</strong> Set <code>SETUP_SECRET</code> in your app environment (e.g. DigitalOcean App Platform) and enter the same value here. Only someone with this key can complete setup.
          </div>
        </div>
        <div class="field-group">
          <label for="adminUsername">Admin Username</label>
          <input id="adminUsername" type="text" placeholder="admin" required autocomplete="username" />
          <div class="help-text">
            <strong>Primary administrator account</strong> â€” you will sign in with this username
          </div>
        </div>
        <div class="field-group">
          <label for="adminEmail">Admin Email (optional)</label>
          <input id="adminEmail" type="email" placeholder="admin@example.com" autocomplete="email" />
          <div class="help-text">
            Optional contact or recovery address
          </div>
        </div>
        
        <div class="field-group">
          <label for="password">Admin Password</label>
          <input id="password" type="password" placeholder="Create a strong password (min 10 characters)" required />
          <div class="help-text">
            <strong>Minimum 10 characters</strong> - Use a combination of letters, numbers, and symbols for security
          </div>
        </div>
        
        <div class="field-group">
          <label for="org">Organization Name</label>
          <input id="org" type="text" placeholder="My Organization" required />
          <div class="help-text">
            <strong>Display name</strong> for your organization that will appear in the TAK Lite mobile app
          </div>
        </div>
        
        <div class="field-group">
          <label for="cors">Allowed Websites (Optional)</label>
          <input id="cors" type="text" placeholder="http://localhost:3000" />
          <div class="help-text">
            <strong>What is this?</strong> Controls which websites can connect to your server.<br>
            <strong>Leave blank</strong> if you're only using the TAK Lite mobile app.<br>
            <strong>Example:</strong> http://localhost:3000, https://myapp.com
          </div>
        </div>
        
        <button id="submit">Complete Setup</button>
        <div id="msg" class="message hidden"></div>
      </div>
    </div>
    <script src="/public/js/setup.js?v=2"></script>
  </body>
</html>


